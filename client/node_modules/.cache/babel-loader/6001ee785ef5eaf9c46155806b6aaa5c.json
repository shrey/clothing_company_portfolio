{"ast":null,"code":"var _jsxFileName = \"/Users/rajeshdubey/Desktop/Stuff/react_course/crwn-clothing/src/App.js\";\nimport React, { useEffect } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { createStructuredSelector } from \"reselect\";\nimport './App.css';\nimport { selectCurrentUser } from './redux/user/user.selectors';\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.component';\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Header from './components/header/header.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { setCurrentUser } from './redux/user/user.action';\nimport CheckOutPage from './pages/checkout/checkout.component';\nimport { checkUserSession } from './redux/user/user.action';\n\nconst App = ({\n  currentUser,\n  checkUserSession\n}) => {\n  // componentDidMount() {\n  //   const { setCurrentUser } = this.props;\n  //   this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n  //     if (userAuth) {\n  //       const userRef = await createUserProfileDocument(userAuth);\n  //       userRef.onSnapshot(snapShot => {\n  //         console.log(snapShot);\n  //         setCurrentUser({\n  //           id: snapShot.id,\n  //           ...snapShot.data()\n  //         });\n  //       });\n  //     }\n  //     setCurrentUser(userAuth);//sets to null\n  //   });\n  // }\n  useEffect(() => {\n    checkUserSession();\n  }, [checkUserSession]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    component: HomePage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/shop\",\n    component: ShopPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => currentUser ? /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 12\n      }\n    }) : /*#__PURE__*/React.createElement(SignInAndSignUpPage, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 14\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/checkout\",\n    component: CheckOutPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  })));\n};\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n});\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser\n});\nexport default connect(mapStateToProps, mapDispatchToProps)(App);","map":{"version":3,"sources":["/Users/rajeshdubey/Desktop/Stuff/react_course/crwn-clothing/src/App.js"],"names":["React","useEffect","Switch","Route","Redirect","connect","createStructuredSelector","selectCurrentUser","HomePage","ShopPage","SignInAndSignUpPage","Header","auth","createUserProfileDocument","setCurrentUser","CheckOutPage","checkUserSession","App","currentUser","mapDispatchToProps","dispatch","mapStateToProps"],"mappings":";AAAA,OAAOA,KAAP,IAAcC,SAAd,QAA8B,OAA9B;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,wBAAR,QAAuC,UAAvC;AACA,OAAO,WAAP;AACA,SAAQC,iBAAR,QAAgC,6BAAhC;AACA,OAAOC,QAAP,MAAqB,qCAArB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,mBAAP,MAAgC,2DAAhC;AACA,OAAOC,MAAP,MAAmB,sCAAnB;AACA,SAASC,IAAT,EAAeC,yBAAf,QAAgD,2BAAhD;AACA,SAASC,cAAT,QAA+B,0BAA/B;AACA,OAAOC,YAAP,MAAyB,qCAAzB;AACA,SAAQC,gBAAR,QAA+B,0BAA/B;;AACA,MAAMC,GAAG,GAAG,CAAC;AAACC,EAAAA,WAAD;AAAaF,EAAAA;AAAb,CAAD,KAAoC;AAG9C;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAEA;AACEf,EAAAA,SAAS,CAAC,MAAM;AACde,IAAAA,gBAAgB;AACjB,GAFQ,EAEP,CAACA,gBAAD,CAFO,CAAT;AAKA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,GAAlB;AAAsB,IAAA,SAAS,EAAER,QAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,KAAD;AAAO,IAAA,IAAI,EAAC,OAAZ;AAAoB,IAAA,SAAS,EAAEC,QAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAC,SAAlB;AACA,IAAA,MAAM,EAAE,MAAKS,WAAW,gBACvB,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAG,GAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADuB,gBAErB,oBAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,eAOE,oBAAC,KAAD;AAAO,IAAA,KAAK,MAAZ;AAAa,IAAA,IAAI,EAAG,WAApB;AAAgC,IAAA,SAAS,EAAIH,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAPF,CAFF,CADF;AAcD,CA5CH;;AAgDA,MAAMI,kBAAkB,GAAGC,QAAQ,KAAK;AACtCJ,EAAAA,gBAAgB,EAAE,MAAMI,QAAQ,CAACJ,gBAAgB,EAAjB;AADM,CAAL,CAAnC;;AAIA,MAAMK,eAAe,GAAEf,wBAAwB,CAAE;AAC/CY,EAAAA,WAAW,EAAEX;AADkC,CAAF,CAA/C;AAKA,eAAeF,OAAO,CACpBgB,eADoB,EAEpBF,kBAFoB,CAAP,CAGbF,GAHa,CAAf","sourcesContent":["import React,{useEffect} from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport {createStructuredSelector} from \"reselect\"\nimport './App.css';\nimport {selectCurrentUser} from './redux/user/user.selectors'\nimport HomePage from './pages/homepage/homepage.component';\nimport ShopPage from './pages/shop/shop.component'\nimport SignInAndSignUpPage from './pages/sign-in-and-sign-up/sign-in-and-sign-up.component';\nimport Header from './components/header/header.component';\nimport { auth, createUserProfileDocument } from './firebase/firebase.utils';\nimport { setCurrentUser } from './redux/user/user.action';\nimport CheckOutPage from './pages/checkout/checkout.component'\nimport {checkUserSession} from './redux/user/user.action'\nconst App = ({currentUser,checkUserSession}) => {\n  \n  \n  // componentDidMount() {\n    \n  //   const { setCurrentUser } = this.props;\n\n  //   this.unsubscribeFromAuth = auth.onAuthStateChanged(async userAuth => {\n  //     if (userAuth) {\n  //       const userRef = await createUserProfileDocument(userAuth);\n\n  //       userRef.onSnapshot(snapShot => {\n  //         console.log(snapShot);\n  //         setCurrentUser({\n  //           id: snapShot.id,\n  //           ...snapShot.data()\n  //         });\n  //       });\n  //     }\n\n  //     setCurrentUser(userAuth);//sets to null\n      \n  //   });\n    \n  // }\n    useEffect(() => {\n      checkUserSession();\n    },[checkUserSession])\n\n \n    return (\n      <div>\n        <Header />\n        <Switch>\n          <Route exact path='/' component={HomePage} />\n          <Route path='/shop' component={ShopPage} />\n          <Route exact path='/signin' \n          render={() =>currentUser ? \n          (<Redirect to = \"/\"/>)\n          : (<SignInAndSignUpPage/>) }/>\n          <Route exact path = '/checkout' component = {CheckOutPage}/>\n        </Switch>\n      </div>\n    );\n  }\n\n\n\nconst mapDispatchToProps = dispatch => ({\n  checkUserSession: () => dispatch(checkUserSession())\n  \n});\nconst mapStateToProps =createStructuredSelector ({\n  currentUser: selectCurrentUser,\n  \n});\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(App);"]},"metadata":{},"sourceType":"module"}